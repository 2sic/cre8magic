@using ToSic.Oqt.Cre8Magic.Client.Styling
@inherits ToSic.Oqt.Cre8Magic.Client.Controls.MagicComponent
@*
    Purpose:    Ensures that there is a wrapper - div or body
                which has a bunch of css-classes to tell the stylesheets
                which page it's on, what navigation / language is active etc.
*@
@code
{

    [Parameter] public RenderFragment? ChildContent { get; set; }
    [Inject] protected IMagicThemeJsService? ThemeJs { get; set; }

    private bool PutInBody => Settings.Layout.MagicContextInBody == true;

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        await base.OnAfterRenderAsync(firstRender);
        if (PutInBody && ThemeJs != null) await ThemeJs.SetBodyClasses(Settings.MagicContext);
    }

}
@if (PutInBody)
{
    @ChildContent
}
else
{
    <div id="@Settings.Page.MagicContextTagId" class="@Settings.MagicContext">
        @ChildContent
    </div>
}
