{"version":3,"file":"ambient.js","mappings":"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","sources":["webpack://2sic-cre8magic-test-theme/./src/scripts/ambient/background.ts","webpack://2sic-cre8magic-test-theme/./src/scripts/ambient/breadcrumbs.ts","webpack://2sic-cre8magic-test-theme/./src/scripts/ambient/gtm.ts","webpack://2sic-cre8magic-test-theme/./src/scripts/ambient/mail-encrypt.ts","webpack://2sic-cre8magic-test-theme/./src/scripts/ambient/menu.ts","webpack://2sic-cre8magic-test-theme/./src/scripts/ambient/pdf-in-new-window.ts","webpack://2sic-cre8magic-test-theme/./src/scripts/ambient/to-top.ts","webpack://2sic-cre8magic-test-theme/./src/scripts/shared/constants.ts","webpack://2sic-cre8magic-test-theme/webpack/bootstrap","webpack://2sic-cre8magic-test-theme/webpack/startup"],"sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst mail_encrypt_1 = require(\"./mail-encrypt\");\r\nconst menu_1 = require(\"./menu\");\r\nconst breadcrumbs_1 = require(\"./breadcrumbs\");\r\nconst pdf_in_new_window_1 = require(\"./pdf-in-new-window\");\r\nconst to_top_1 = require(\"./to-top\");\r\nrequire(\"./breadcrumbs\");\r\nconst gtm_1 = require(\"./gtm\");\r\n(0, to_top_1.initToTop)();\r\n(0, pdf_in_new_window_1.openPdfInNewWindow)();\r\n(0, mail_encrypt_1.initMailDecrypt)();\r\n(0, breadcrumbs_1.initBreadcrumb)();\r\n(0, menu_1.initOffCanvasEvents)();\r\n(0, gtm_1.activateGtm)('GTM-T8W5TBL');\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.initBreadcrumb = void 0;\r\nconst constants_1 = require(\"../shared/constants\");\r\nfunction initBreadcrumb() {\r\n    if (constants_1.debug)\r\n        console.log(\"init breadcrumbs\");\r\n    setBreadcrumbsStyling();\r\n    window.addEventListener(\"resize\", setBreadcrumbsStyling);\r\n    document.addEventListener('scroll', setBreadcrumbsStyling);\r\n    var breadCrumbTrigger = document.querySelector(`.${constants_1.prefixBreadcrumbs}-trigger`);\r\n    if (breadCrumbTrigger != null) {\r\n        breadCrumbTrigger.addEventListener('click', () => {\r\n            console.log(document.querySelector(`.${constants_1.prefixBreadcrumbs}`));\r\n            document.querySelector(`.${constants_1.prefixBreadcrumbs}`).classList.toggle(`${constants_1.prefixBreadcrumbs}-open`);\r\n        });\r\n    }\r\n}\r\nexports.initBreadcrumb = initBreadcrumb;\r\nfunction setBreadcrumbsStyling() {\r\n    var header = document.getElementById(`${constants_1.prefix}-page-navigation`);\r\n    if (header != null) {\r\n        var headerHeight = header.offsetHeight;\r\n        var breadcrumbs = document.querySelector(`.${constants_1.prefixBreadcrumbs}`);\r\n        breadcrumbs.style.top = headerHeight + \"px\";\r\n        var breadcrumbsOffsetTop = breadcrumbs.getBoundingClientRect().top;\r\n        if (breadcrumbsOffsetTop <= headerHeight && scrollY != 0) {\r\n            breadcrumbs.classList.add(\"bg-light\", \"shadow\");\r\n        }\r\n        else {\r\n            breadcrumbs.classList.remove(\"bg-light\", \"shadow\");\r\n        }\r\n    }\r\n}\r\n","\"use strict\";\r\n// Temporary solution to add GTM, not final!\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.activateGtm = void 0;\r\nfunction activateGtm(gtmKey) {\r\n    console.log('2dm test activate GTM');\r\n    // <!-- Google Tag Manager -->\r\n    // <script>\r\n    (function (w, d, s, l, i) {\r\n        w[l] = w[l] || [];\r\n        w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' });\r\n        var f = d.getElementsByTagName(s)[0], j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : '';\r\n        j.async = true;\r\n        j.src =\r\n            'https://www.googletagmanager.com/gtm.js?id=' + i + dl;\r\n        f.parentNode.insertBefore(j, f);\r\n    })(window, document, 'script', 'dataLayer', gtmKey);\r\n    // </script>\r\n    // <!-- End Google Tag Manager -->\r\n}\r\nexports.activateGtm = activateGtm;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.initMailDecrypt = void 0;\r\nconst constants_1 = require(\"../shared/constants\");\r\nfunction initMailDecrypt() {\r\n    if (constants_1.debug)\r\n        console.log('initMailDecrypt');\r\n    /* mailencrypting */\r\n    setTimeout(function () {\r\n        let mailElement = document.querySelectorAll('[data-madr1]:not(.madr-done)');\r\n        mailElement.forEach((mail, index) => {\r\n            const maddr = mail.getAttribute('data-madr1') + '@' + mail.getAttribute('data-madr2') + '.' + mail.getAttribute('data-madr3');\r\n            const linktext = mail.getAttribute('data-linktext') ? mail.getAttribute('data-linktext') : maddr;\r\n            const a = document.createElement('a');\r\n            a.setAttribute('href', `mailto:${maddr}`);\r\n            a.innerHTML = linktext;\r\n            if (mail.parentElement)\r\n                mail.parentElement.appendChild(a);\r\n            mail.classList.add('madr-done');\r\n            mail.style.display = 'none';\r\n        });\r\n    }, 500);\r\n}\r\nexports.initMailDecrypt = initMailDecrypt;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.initOffCanvasEvents = void 0;\r\nconst constants_1 = require(\"../shared/constants\");\r\n// Takes care of closing the offcanvas when clicking on a navigation link\r\n// The page is not reloaded, so the offcanvas does not close\r\nfunction initOffCanvasEvents() {\r\n    if (constants_1.debug)\r\n        console.log('initOffCanvasEvents');\r\n    //Offcanvas close on link click\r\n    var navLinks = document.querySelectorAll(\".mobile-navigation-link\");\r\n    var navOffcanvas = document.getElementById('offcanvasNavbar');\r\n    var bsNavOffcanvas = new bootstrap.Offcanvas(navOffcanvas);\r\n    navLinks.forEach(element => {\r\n        element.addEventListener('click', () => {\r\n            bsNavOffcanvas.hide();\r\n        });\r\n    });\r\n}\r\nexports.initOffCanvasEvents = initOffCanvasEvents;\r\n","\"use strict\";\r\n// TODO: THIS PROBABLY doesn't work reliably, as it would need to be called again when the page changes\r\n// will probably need to be moved to the interop and called on every reload\r\n// or use a timeout similar to mail-decrypt\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.openPdfInNewWindow = void 0;\r\n/* Open all PDF links in a new window */\r\nfunction openPdfInNewWindow() {\r\n    document.querySelectorAll('a').forEach((linkElem, index) => {\r\n        if (linkElem.hasAttribute('href') && linkElem.getAttribute('href').endsWith('.pdf')) {\r\n            linkElem.setAttribute('target', '_blank');\r\n        }\r\n    });\r\n}\r\nexports.openPdfInNewWindow = openPdfInNewWindow;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.initToTop = void 0;\r\nconst constants_1 = require(\"../shared/constants\");\r\nconst toTopElementId = `${constants_1.prefix}-to-top`;\r\nconst visibleClass = `visible`;\r\nfunction initToTop() {\r\n    console.log('init to top');\r\n    toTopShowHideOnScroll();\r\n}\r\nexports.initToTop = initToTop;\r\nfunction toTopShowHideOnScroll() {\r\n    if (constants_1.debug)\r\n        console.log('toTopShowHideOnScroll');\r\n    document.addEventListener(\"scroll\", toTopButtonVisibility);\r\n}\r\nfunction toTopButtonVisibility() {\r\n    var toTopButton = document.getElementById(toTopElementId);\r\n    if (!toTopButton)\r\n        return;\r\n    // Ensure it has the event listener\r\n    toTopButton.addEventListener(\"click\", scrollTop);\r\n    // Todo: unsure why it does body + documentElement...\r\n    const show = document.body.scrollTop > 200 || document.documentElement.scrollTop > 200;\r\n    if (constants_1.debugDetailed)\r\n        console.log('to-top' + show ? \"show\" : \"hide\");\r\n    if (show)\r\n        toTopButton.classList.add(visibleClass);\r\n    else\r\n        toTopButton.classList.remove(visibleClass);\r\n}\r\nfunction scrollTop() {\r\n    window.scrollTo({ top: 0, behavior: 'smooth' });\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.prefixLanguages = exports.prefixBreadcrumbs = exports.prefix = exports.debugDetailed = exports.debug = void 0;\r\nexports.debug = true;\r\nexports.debugDetailed = exports.debug && false;\r\nexports.prefix = 'theme';\r\nexports.prefixBreadcrumbs = `${exports.prefix}-breadcrumbs`;\r\nexports.prefixLanguages = `${exports.prefix}-languages`;\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n__webpack_require__(565);\n// This entry module is referenced by other modules so it can't be inlined\n__webpack_require__(693);\n__webpack_require__(227);\n__webpack_require__(77);\n__webpack_require__(231);\n__webpack_require__(758);\nvar __webpack_exports__ = __webpack_require__(657);\n"],"names":["mail_encrypt_1","menu_1","breadcrumbs_1","pdf_in_new_window_1","to_top_1","gtm_1","initToTop","openPdfInNewWindow","initMailDecrypt","initBreadcrumb","initOffCanvasEvents","activateGtm","Object","defineProperty","exports","value","constants_1","setBreadcrumbsStyling","header","document","getElementById","prefix","headerHeight","offsetHeight","breadcrumbs","querySelector","prefixBreadcrumbs","style","top","getBoundingClientRect","scrollY","classList","add","remove","debug","console","log","window","addEventListener","breadCrumbTrigger","toggle","gtmKey","w","d","s","l","i","push","Date","getTime","event","f","getElementsByTagName","j","createElement","async","src","parentNode","insertBefore","setTimeout","querySelectorAll","forEach","mail","index","maddr","getAttribute","linktext","a","setAttribute","innerHTML","parentElement","appendChild","display","navLinks","navOffcanvas","bsNavOffcanvas","bootstrap","Offcanvas","element","hide","linkElem","hasAttribute","endsWith","toTopElementId","visibleClass","toTopButtonVisibility","toTopButton","scrollTop","show","body","documentElement","debugDetailed","scrollTo","behavior","prefixLanguages","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","module","__webpack_modules__"],"sourceRoot":""}