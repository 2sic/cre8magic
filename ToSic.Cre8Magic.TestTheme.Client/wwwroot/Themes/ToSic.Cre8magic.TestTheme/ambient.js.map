{"version":3,"file":"ambient.js","mappings":"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","sources":["webpack://2sic-cre8magic-test-theme/./src/scripts/ambient/background.ts","webpack://2sic-cre8magic-test-theme/./src/scripts/ambient/breadcrumbs.ts","webpack://2sic-cre8magic-test-theme/./src/scripts/ambient/gtm.ts","webpack://2sic-cre8magic-test-theme/./src/scripts/ambient/mail-encrypt.ts","webpack://2sic-cre8magic-test-theme/./src/scripts/ambient/menu.ts","webpack://2sic-cre8magic-test-theme/./src/scripts/ambient/pdf-in-new-window.ts","webpack://2sic-cre8magic-test-theme/./src/scripts/ambient/to-top.ts","webpack://2sic-cre8magic-test-theme/./src/scripts/shared/constants.ts","webpack://2sic-cre8magic-test-theme/webpack/bootstrap","webpack://2sic-cre8magic-test-theme/webpack/startup"],"sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst mail_encrypt_1 = require(\"./mail-encrypt\");\r\nconst menu_1 = require(\"./menu\");\r\nconst breadcrumbs_1 = require(\"./breadcrumbs\");\r\nconst pdf_in_new_window_1 = require(\"./pdf-in-new-window\");\r\nconst to_top_1 = require(\"./to-top\");\r\nconst gtm_1 = require(\"./gtm\");\r\n(0, to_top_1.initToTop)();\r\n(0, pdf_in_new_window_1.openPdfInNewWindow)();\r\n(0, mail_encrypt_1.initMailDecrypt)();\r\n(0, breadcrumbs_1.initBreadcrumb)();\r\n(0, menu_1.initOffCanvasEvents)();\r\n(0, gtm_1.buildCre8magicGtm)();\r\nwindow.cre8magic.gtm.activate('GTM-T8W5TBL');\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.initBreadcrumb = void 0;\r\nconst constants_1 = require(\"../shared/constants\");\r\nfunction initBreadcrumb() {\r\n    if (constants_1.debug)\r\n        console.log(\"init breadcrumbs\");\r\n    setBreadcrumbsStyling();\r\n    window.addEventListener(\"resize\", setBreadcrumbsStyling);\r\n    document.addEventListener('scroll', setBreadcrumbsStyling);\r\n    var breadCrumbTrigger = document.querySelector(`.${constants_1.prefixBreadcrumbs}-trigger`);\r\n    if (breadCrumbTrigger != null) {\r\n        breadCrumbTrigger.addEventListener('click', () => {\r\n            if (constants_1.debug)\r\n                console.log(document.querySelector(`.${constants_1.prefixBreadcrumbs}`));\r\n            document.querySelector(`.${constants_1.prefixBreadcrumbs}`).classList.toggle(`${constants_1.prefixBreadcrumbs}-open`);\r\n        });\r\n    }\r\n}\r\nexports.initBreadcrumb = initBreadcrumb;\r\nfunction setBreadcrumbsStyling() {\r\n    var header = document.getElementById(`${constants_1.prefix}-page-navigation`);\r\n    if (header != null) {\r\n        var headerHeight = header.offsetHeight;\r\n        var breadcrumbs = document.querySelector(`.${constants_1.prefixBreadcrumbs}`);\r\n        breadcrumbs.style.top = headerHeight + \"px\";\r\n        var breadcrumbsOffsetTop = breadcrumbs.getBoundingClientRect().top;\r\n        if (breadcrumbsOffsetTop <= headerHeight && scrollY != 0) {\r\n            breadcrumbs.classList.add(\"bg-light\", \"shadow\");\r\n        }\r\n        else {\r\n            breadcrumbs.classList.remove(\"bg-light\", \"shadow\");\r\n        }\r\n    }\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.buildCre8magicGtm = void 0;\r\nconst constants_1 = require(\"../shared/constants\");\r\n// Temporary solution to add GTM, not final!\r\nconst debugGtm = constants_1.debug || true;\r\nfunction activateGtm(gtmKey) {\r\n    if (debugGtm)\r\n        console.log('2dm test activate GTM');\r\n    // <!-- Google Tag Manager -->\r\n    // <script>\r\n    (function (w, d, s, l, i) {\r\n        w[l] = w[l] || [];\r\n        w[l].push({ 'gtm.start': new Date().getTime(), event: 'gtm.js' });\r\n        var f = d.getElementsByTagName(s)[0], j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : '';\r\n        j.async = true;\r\n        j.src =\r\n            'https://www.googletagmanager.com/gtm.js?id=' + i + dl;\r\n        f.parentNode.insertBefore(j, f);\r\n    })(window, document, 'script', 'dataLayer', gtmKey);\r\n    // </script>\r\n    // <!-- End Google Tag Manager -->\r\n}\r\nclass GtmInterop {\r\n    constructor() {\r\n        this.activate = activateGtm;\r\n    }\r\n    pageView() {\r\n        if (debugGtm)\r\n            console.log('gtm-interop - track page view');\r\n        gtag('event', 'blazor_page_view'); //\r\n    }\r\n}\r\nwindow.dataLayer = window.dataLayer || [];\r\nfunction gtag(target, more) {\r\n    if (constants_1.debug)\r\n        console.log('gtm - gtag');\r\n    window.dataLayer.push(arguments);\r\n}\r\nfunction buildCre8magicGtm() {\r\n    window.cre8magic = window.cre8magic || {};\r\n    window.cre8magic.gtm = window.cre8magic.gtm || new GtmInterop();\r\n    window.gtag = window.gtag || gtag;\r\n}\r\nexports.buildCre8magicGtm = buildCre8magicGtm;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.initMailDecrypt = void 0;\r\nconst constants_1 = require(\"../shared/constants\");\r\nfunction initMailDecrypt() {\r\n    if (constants_1.debug)\r\n        console.log('initMailDecrypt');\r\n    /* mailencrypting */\r\n    setTimeout(function () {\r\n        let mailElement = document.querySelectorAll('[data-madr1]:not(.madr-done)');\r\n        mailElement.forEach((mail, index) => {\r\n            const maddr = mail.getAttribute('data-madr1') + '@' + mail.getAttribute('data-madr2') + '.' + mail.getAttribute('data-madr3');\r\n            const linktext = mail.getAttribute('data-linktext') ? mail.getAttribute('data-linktext') : maddr;\r\n            const a = document.createElement('a');\r\n            a.setAttribute('href', `mailto:${maddr}`);\r\n            a.innerHTML = linktext;\r\n            if (mail.parentElement)\r\n                mail.parentElement.appendChild(a);\r\n            mail.classList.add('madr-done');\r\n            mail.style.display = 'none';\r\n        });\r\n    }, 500);\r\n}\r\nexports.initMailDecrypt = initMailDecrypt;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.initOffCanvasEvents = void 0;\r\nconst constants_1 = require(\"../shared/constants\");\r\n// Takes care of closing the offcanvas when clicking on a navigation link\r\n// The page is not reloaded, so the offcanvas does not close\r\nfunction initOffCanvasEvents() {\r\n    if (constants_1.debug)\r\n        console.log('initOffCanvasEvents');\r\n    //Offcanvas close on link click\r\n    var navLinks = document.querySelectorAll(\".mobile-navigation-link\");\r\n    var navOffcanvas = document.getElementById('offcanvasNavbar');\r\n    var bsNavOffcanvas = new bootstrap.Offcanvas(navOffcanvas);\r\n    navLinks.forEach(element => {\r\n        element.addEventListener('click', () => {\r\n            bsNavOffcanvas.hide();\r\n        });\r\n    });\r\n}\r\nexports.initOffCanvasEvents = initOffCanvasEvents;\r\n","\"use strict\";\r\n// TODO: THIS PROBABLY doesn't work reliably, as it would need to be called again when the page changes\r\n// will probably need to be moved to the interop and called on every reload\r\n// or use a timeout similar to mail-decrypt\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.openPdfInNewWindow = void 0;\r\n/* Open all PDF links in a new window */\r\nfunction openPdfInNewWindow() {\r\n    document.querySelectorAll('a').forEach((linkElem, index) => {\r\n        if (linkElem.hasAttribute('href') && linkElem.getAttribute('href').endsWith('.pdf')) {\r\n            linkElem.setAttribute('target', '_blank');\r\n        }\r\n    });\r\n}\r\nexports.openPdfInNewWindow = openPdfInNewWindow;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.initToTop = void 0;\r\nconst constants_1 = require(\"../shared/constants\");\r\nconst toTopElementId = `${constants_1.prefix}-to-top`;\r\nconst visibleClass = `visible`;\r\nfunction initToTop() {\r\n    console.log('init to top');\r\n    toTopShowHideOnScroll();\r\n}\r\nexports.initToTop = initToTop;\r\nfunction toTopShowHideOnScroll() {\r\n    if (constants_1.debug)\r\n        console.log('toTopShowHideOnScroll');\r\n    document.addEventListener(\"scroll\", toTopButtonVisibility);\r\n}\r\nfunction toTopButtonVisibility() {\r\n    var toTopButton = document.getElementById(toTopElementId);\r\n    if (!toTopButton)\r\n        return;\r\n    // Ensure it has the event listener\r\n    toTopButton.addEventListener(\"click\", scrollTop);\r\n    // Todo: unsure why it does body + documentElement...\r\n    const show = document.body.scrollTop > 200 || document.documentElement.scrollTop > 200;\r\n    if (constants_1.debugDetailed)\r\n        console.log('to-top' + show ? \"show\" : \"hide\");\r\n    if (show)\r\n        toTopButton.classList.add(visibleClass);\r\n    else\r\n        toTopButton.classList.remove(visibleClass);\r\n}\r\nfunction scrollTop() {\r\n    window.scrollTo({ top: 0, behavior: 'smooth' });\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.prefixLanguages = exports.prefixBreadcrumbs = exports.prefix = exports.debugDetailed = exports.debug = void 0;\r\nexports.debug = true;\r\nexports.debugDetailed = exports.debug && false;\r\nexports.prefix = 'theme';\r\nexports.prefixBreadcrumbs = `${exports.prefix}-breadcrumbs`;\r\nexports.prefixLanguages = `${exports.prefix}-languages`;\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n__webpack_require__(565);\n// This entry module is referenced by other modules so it can't be inlined\n__webpack_require__(693);\n__webpack_require__(227);\n__webpack_require__(77);\n__webpack_require__(231);\n__webpack_require__(758);\nvar __webpack_exports__ = __webpack_require__(657);\n"],"names":["mail_encrypt_1","menu_1","breadcrumbs_1","pdf_in_new_window_1","to_top_1","gtm_1","initToTop","openPdfInNewWindow","initMailDecrypt","initBreadcrumb","initOffCanvasEvents","buildCre8magicGtm","window","cre8magic","gtm","activate","Object","defineProperty","exports","value","constants_1","setBreadcrumbsStyling","header","document","getElementById","prefix","headerHeight","offsetHeight","breadcrumbs","querySelector","prefixBreadcrumbs","style","top","getBoundingClientRect","scrollY","classList","add","remove","debug","console","log","addEventListener","breadCrumbTrigger","toggle","debugGtm","activateGtm","gtmKey","w","d","s","l","i","push","Date","getTime","event","f","getElementsByTagName","j","createElement","async","src","parentNode","insertBefore","GtmInterop","constructor","this","pageView","gtag","target","more","dataLayer","arguments","setTimeout","querySelectorAll","forEach","mail","index","maddr","getAttribute","linktext","a","setAttribute","innerHTML","parentElement","appendChild","display","navLinks","navOffcanvas","bsNavOffcanvas","bootstrap","Offcanvas","element","hide","linkElem","hasAttribute","endsWith","toTopElementId","visibleClass","toTopButtonVisibility","toTopButton","scrollTop","show","body","documentElement","debugDetailed","scrollTo","behavior","prefixLanguages","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","module","__webpack_modules__"],"sourceRoot":""}